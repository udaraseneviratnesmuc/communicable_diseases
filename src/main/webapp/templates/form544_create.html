<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Create Form 544</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../css/bootstrap.min.css">
<link rel="stylesheet" href="../css/jquery-ui.css">
<link rel="stylesheet" href="../css/custom.css">
<script src="../js/jquery-3.1.1.min.js"></script>
<script src="../js/jquery-ui.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/form544-custom.js"></script>

</head>

<body>
	<div id="banner"></div>

	<div id="navigation"></div>

	<div>
		<div class="container">
			<div class="page-header page-title-header">
				<h2>Compose Form 544</h2>
			</div>
			<form th:action="@{/Form544/submit}" method="post" id="submitFrm">
				<div class="form-group">
					<!-- Set this to be auto generated -->
					<label for="serial_no">Serial Number:</label> <input type="text"
						class="form-control" name="serialNo" id="serialNo"
						placeholder="Enter Serial Number" maxlength="10"
						th:value="${serialNo}" required>
				</div>
				<div class="form-group">
					<label for="name">Name:</label> <input type="text"
						class="form-control" id="patientName" name="patientName"
						placeholder="Enter Patient's Name" maxlength="250" required>
				</div>
				<div class="form-group">
					<label for="age">Age:</label>
					<div class="row">
						<div class="col-lg-2">
							<div>
								<input type="number" class="form-control" id="ageYear"
									placeholder="Years" max="120" min="0" style="width: 100px"
									onchange="composeAge()">
							</div>
						</div>
						<div class="col-lg-2">
							<div>
								<input type="number" class="form-control" id="ageMonth"
									placeholder="Months" max="11" min="0" style="width: 100px"
									onchange="composeAge()">
							</div>
						</div>
						<div class="col-lg-2">
							<div>
								<input type="number" class="form-control" id="ageDay"
									placeholder="Days" max="29" min="0" style="width: 100px"
									onchange="composeAge()">
							</div>
						</div>
						<div class="col-lg-2">
							<div>
								<input type="number" class="form-control readonly" id="age"
									name="age" placeholder="Patient's Age in days"
									style="width: 200px; display: none" required data-readonly>
							</div>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label for="sex">Sex:</label> <select class="form-control"
						name="sex" id="sex">
						<option th:each="sex:${sexList}" th:value="${sex}"
							th:text="${sex}"></option>
					</select>
				</div>
				<div class="form-group">
					<label for="home_address">Home Address:</label> <input type="text"
						class="form-control" name="patientHomeAddress"
						id="patientHomeAddress" placeholder="Enter Patient's Home Address"
						maxlength="250" required>
				</div>
				<div class="form-group">
					<label for="phone_no">Phone Number:</label> <input type="tel"
						class="form-control" name="patientsHomePhoneNo"
						id="patientsHomePhoneNo"
						placeholder="Enter Patient's Home Phone Number" maxlength="20">
				</div>
				<div class="form-group">
					<label for="peaditiric_patients_gurdian_name">Peaditiric
						Patient's Gurdian Name:</label> <input type="text" class="form-control"
						id="peaditiricPatientsGurdianName"
						name="peaditiricPatientsGurdianName"
						placeholder="Enter Peaditiric Patient's Gurdian Name"
						maxlength="250">
				</div>
				<div class="form-group">
					<label for="disease">Disease:</label> <select class="form-control"
						id="disease" name="disease">
						<option th:each="disease:${diseaseList}" th:value="${disease.id}"
							th:text="${disease.diseaseName}"></option>
					</select>
				</div>
				<div class="form-group">
					<label for="district">District:</label> <select
						class="form-control" id="district" name="district">
						<option th:each="district:${districtList}"
							th:value="${district.id}" th:text="${district.districtName}"></option>
					</select>
				</div>
				<div class="form-group">
					<label for="district">MOH Area:</label> <select
						class="form-control" id="mohArea" name="mohArea"></select>
				</div>
				<div class="form-group">
					<label for="institute">Institute:</label> <select
						class="form-control" id="institute" name="institute"></select>
				</div>
				<div class="form-group">
					<label for="ward">Ward:</label> <select class="form-control"
						id="ward" name="ward"></select>
				</div>
				<div class="form-group">
					<label for="bht_no">BHT No:</label> <input type="text"
						class="form-control" id="bhtNo" name="bhtNo"
						placeholder="Enter Patient's BHT Number" maxlength="50" required>
				</div>
				<div class="form-group">
					<label for="date_of_onset">Date of Onset:</label> <input
						type="text" class="form-control" id="dateOfOnset"
						name="dateOfOnset" placeholder="Select date of Onset" required>
				</div>
				<div class="form-group">
					<label for="date_of_admission">Date of Admission:</label> <input
						type="text" class="form-control" id="dateOfAdmission"
						name="dateOfAdmission" placeholder="Select date of Admision"
						required>
				</div>
				<div class="form-group">
					<label for="notifyByUnitDate">Date of Notification from
						Unit/Ward:</label> <input type="text" class="form-control"
						id="notifyByUnitDate" name="notifyByUnitDate"
						placeholder="Select date of Notification from Unit/Ward" required>
				</div>
				<div class="form-group">
					<label for="notifyToMohDate">Date of Notification to MOH:</label> <input
						type="text" class="form-control" id="notifyToMohDate"
						name="notifyToMohDate"
						placeholder="Select date of Notification to MOH" required>
				</div>
				<div class="form-group">
					<label for="notifier_name">Notifier Name:</label> <input
						type="text" class="form-control" id="notifierName"
						name="notifierName" placeholder="Enter Name of the Notifier"
						maxlength="250" required>
				</div>
				<div class="form-group">
					<label for="notifier_status">Notifier Status:</label> <input
						type="text" class="form-control" id="notifierStatus"
						name="notifierStatus" placeholder="Enter Status of the Notifier"
						maxlength="250" required>
				</div>
				<div class="form-group">
					<label for="testName">Name of Disease Confirmation Test:</label> <input
						type="text" class="form-control" id="testName" name="testName"
						placeholder="Enter Name of Disease Confirmation Test [If Available]"
						maxlength="250">
				</div>
				<div class="form-group">
					<label for="smpleCollectionDate">Sample Collection Date:</label> <input
						type="text" class="form-control" id="smpleCollectionDate"
						name="smpleCollectionDate"
						placeholder="Select Sample Collection Date">
				</div>
				<div class="form-group">
					<label for="labName">Name of Lab:</label> <input type="text"
						class="form-control" id="labName" name="labName"
						placeholder="Enter Name of Lab" maxlength="250">
				</div>
				<div class="form-group">
					<label for="testResult">Test Results:</label>
					<textarea type="text" class="form-control" id="testResult"
						name="testResult" placeholder="Enter Test Results" maxlength="250"></textarea>
				</div>
				<div class="form-group">
					<label for="remarks">Remarks:</label>
					<textarea type="text" class="form-control" id="remarks"
						name="remarks" placeholder="Enter Remarks" maxlength="250"></textarea>
				</div>
				<div class="form-group">
					<label for="remarks">Location:</label>
					<div class="row">
						<div class="col-lg-2">
							<input type="text" class="form-control" id="latitudeTxt"
								name="lattitude" placeholder="Latitude">
						</div>
						<div class="col-lg-2">
							<input type="text" class="form-control" id="longitudeTxt"
								name="longitude" placeholder="Longitude">
						</div>
						<div class="col-lg-2">
							<button type="button"
								onclick="popupCoordinateMap(7.467399, 80.623641, 17)"
								class="btn btn-default" data-toggle="modal"
								data-target="#coordinateMap">Set Location</button>
						</div>
					</div>
				</div>
				<div>
					<input type="submit" style="display: none" />
					<button type="button" class="btn btn-success pull-right"
						onclick="viewConfirmationDialog('Form 544 Submit', 'Are you sure you need to submitForm 544 ?','submitForm544()')">Submit</button>
					<button type="submit" class="btn btn-default pull-right"
						style="margin-right: 5px; width: 70px">Clear</button>
				</div>
				<input type="hidden" th:name="${_csrf.parameterName}"
					th:value="${_csrf.token}" />
			</form>
		</div>
	</div>

	<div id="footer"></div>
</body>

<div id="confirmDialog"></div>

<!-- Modal Section start-->

<!-- Map Modal-->
<div class="modal fade" id="coordinateMap" role="dialog">
	<div class="modal-dialog modal-lg" style="width: 1013px">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Point the Disease Reported Location</h4>
			</div>
			<div class="modal-body">
				<div style="text-align: center">
					<button type="button" onclick="mapSearchByAddress()"
						class="btn btn-link">TRY</button>
					to locate place by given patient's home address.
				</div>
				<input id="pac-input" class="controls" type="text"
					placeholder="Search Box">
				<div id='map_canvas'></div>
				<p>
					<span style="font-weight: bold">Latitude : </span> | <span
						id="latitude"></span> <span style="font-weight: bold">Longitude
						: </span><span id="longitude"></span>
				</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
			</div>
		</div>

	</div>
</div>



<!-- Modal Section end -->

<!-- TODO
Header, Footer, menu should be included.
Frontend validations should be included.
Try to ake common the imports.
Clear btn doesn't function

 -->